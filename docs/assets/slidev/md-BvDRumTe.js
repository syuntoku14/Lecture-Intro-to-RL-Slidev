import{_ as H}from"./VClick-Ceb0H0ou.js";import{d as V,e as $}from"../modules/unplugin-icons-C_1_8n7-.js";import{d as q,r as z,O as M,D as b,L as P,z as E,aJ as j,f as x,o as p,j as F,i as R,C as c,b as y,k as K,n as T,w as k,g as e,e as f,m as B,ac as l,v as W,x as J}from"../modules/vue-Qnzn1QrV.js";import{v as S,ai as O,C as U,aj as X,ak as G}from"../index-DTmtXNk1.js";import{u as L,f as Q}from"./context-BM7hGnWQ.js";import{I as Y}from"./default-uKRZbcC5.js";import"../modules/shiki-p5hVzON2.js";const Z=["title"],ee=q({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:S.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(v){const i=v,{$clicksContext:o}=L(),a=z(),s=O();M(()=>{o.unregister(s)}),b(()=>{var t;(t=a.value)==null||t.classList.toggle("slidev-code-line-numbers",i.lines)}),P(()=>{var u;if(!o||!((u=i.ranges)!=null&&u.length))return;const t=o.calculateSince(i.at,i.ranges.length-1);o.register(s,t);const n=E(()=>t?Math.max(0,o.current-t.start+1):U),r=E(()=>i.finally==="last"?i.ranges.at(-1):i.finally.toString());b(()=>{if(!a.value)return;let m=i.ranges[n.value]??r.value;const _=m==="hide";a.value.classList.toggle(X,_),_&&(m=i.ranges[n.value+1]??r.value);const A=a.value.querySelector(".shiki"),C=Array.from(A.querySelectorAll("code > .line")),I=C.length;if(G(m,I,i.startLine,h=>[C[h]]),i.maxHeight){const h=Array.from(A.querySelectorAll(".line.highlighted"));h.reduce((D,N)=>N.offsetHeight+D,0)>a.value.offsetHeight?h[0].scrollIntoView({behavior:"smooth",block:"start"}):h.length>0&&h[Math.round((h.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:d,copy:g}=j();function w(){var n,r;const t=(r=(n=a.value)==null?void 0:n.querySelector(".slidev-code"))==null?void 0:r.textContent;t&&g(t)}return(t,n)=>{const r=V,u=$;return p(),x("div",{ref_key:"el",ref:a,class:T(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":i.lines}]),style:K({"max-height":i.maxHeight,"overflow-y":i.maxHeight?"scroll":void 0,"--start":i.startLine})},[F(t.$slots,"default"),c(S).codeCopy?(p(),x("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:c(d)?"Copied":"Copy",onClick:n[0]||(n[0]=m=>w())},[c(d)?(p(),y(r,{key:0,class:"p-2 w-8 h-8"})):(p(),y(u,{key:1,class:"p-2 w-8 h-8"}))],8,Z)):R("v-if",!0)],6)}}}),he={__name:"slides.md__slidev_5",setup(v){const{$clicksContext:i,$frontmatter:o}=L();return i.setup(),(a,s)=>{const d=ee,g=H;return p(),y(Y,W(J(c(Q)(c(o),4))),{default:k(()=>[s[4]||(s[4]=e("h2",null,"意思決定のルールの難しさと定式化の重要性",-1)),s[5]||(s[5]=e("p",null,"短期よりも長期の方が一般に実現が難しい．",-1)),s[6]||(s[6]=e("ul",null,[e("li",null,"短期的なルールの実装は簡単．ユーザーが今まで見てたジャンルの動画を見せれば良い．")],-1)),f(d,B({},{ranges:[]}),{default:k(()=>s[0]||(s[0]=[e("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[e("code",{class:"language-python"},[e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"def"),e("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," recommend_movie"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),e("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"previous_movie_type"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"):")]),l(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    # 直前の映画のジャンルと同じジャンルの映画を推薦")]),l(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    next_movie "),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),e("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," get_random_movie"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),e("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"previous_movie_type"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")]),l(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    return"),e("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," next_movie")])])],-1)])),_:1},16),s[7]||(s[7]=e("br",null,null,-1)),f(g,null,{default:k(()=>[s[2]||(s[2]=e("ul",null,[e("li",null,"長期的なルールの実装が難しい．１年間でのユーザーの満足度を最大化させるには？")],-1)),f(d,B({},{ranges:[]}),{default:k(()=>s[1]||(s[1]=[e("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[e("code",{class:"language-python"},[e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"def"),e("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," recommend_movie"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),e("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"movie_history"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"):")]),l(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    # ユーザーの視聴履歴はあるけど，何をすれば満足度が最大化される？")]),l(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    next_movie "),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),e("span",{style:{"--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic","--shiki-light":"#B31D28","--shiki-light-font-style":"italic"}}," ???")]),l(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    return"),e("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," next_movie")])])],-1)])),_:1},16)]),_:1}),f(g,null,{default:k(()=>s[3]||(s[3]=[e("div",{style:{border:"2px solid #000",padding:"10px","margin-top":"20px","background-color":"#ffffe0"}},[e("p",null,[l("ふわふわした要件では，意思決定のルールを設計するのは難しい．（🤔 そもそも短期と長期って何？）"),e("br"),l(" 💡そこで，"),e("strong",null,"マルコフ決定過程"),l("を使って意思決定問題を定式化＆意思決定のルールを計算しよう．")])],-1)])),_:1})]),_:1},16)}}};export{he as default};
